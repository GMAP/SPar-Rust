From Dalvan's thesis:
	* replicate could be empty:
		Only if it is empty, we use SPAR_NUM_WORKERS
	* if replicate is not present, we always use 1

Code generation
	basic stream analysis (based on Dalvan's thesis)
	Change the code generation to create independent structs
